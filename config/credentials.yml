aws:
  access_key_id: <%= ENV.fetch("AWS_ACCESS_KEY_ID", nil) %>
  secret_access_key: <%= ENV.fetch("AWS_SECRET_ACCESS_KEY", nil) %>

jwt:
  secret_key: <%= ENV.fetch("JWT_SECRET_KEY") %>
  algorithm: HS256
  issuer: <%= ENV.fetch("JWT_ISSUER", "my_api_backend") %>
  audience: <%= ENV.fetch("JWT_AUDIENCE", "my_frontend_app") %>
  access_token_lifetime: <%= ENV.fetch("JWT_ACCESS_TOKEN_LIFETIME", 15.minutes.to_i) %>
  refresh_token_lifetime: <%= ENV.fetch("JWT_REFRESH_TOKEN_LIFETIME", 30.days.to_i) %>

mailer:
  default_from: <%= ENV.fetch("MAILER_DEFAULT_FROM", "no-reply@example.com") %>
  smtp_username: <%= ENV.fetch("SMTP_USERNAME", nil) %>
  smtp_password: <%= ENV.fetch("SMTP_PASSWORD", nil) %>
  smtp_domain: <%= ENV.fetch("SMTP_DOMAIN", nil) %>
  smtp_address: <%= ENV.fetch("SMTP_ADDRESS", nil) %>
  smtp_port: <%= ENV.fetch("SMTP_PORT", 587) %>
  smtp_authentication: <%= ENV.fetch("SMTP_AUTHENTICATION", "plain") %>
  smtp_enable_starttls_auto: <%= ENV.fetch("SMTP_ENABLE_STARTTLS_AUTO", "true") == "true" %>

cors:
  allowed_origins:
    - <%= ENV.fetch("CORS_ALLOWED_ORIGIN", "https://frontend.example.com") %>
  allow_credentials: <%= ENV.fetch("CORS_ALLOW_CREDENTIALS", "false") == "true" %>

security:
  force_ssl: <%= ENV.fetch("FORCE_SSL", "true") == "true" %>
  hsts_max_age: <%= ENV.fetch("HSTS_MAX_AGE", 31536000) %>
  log_level: <%= ENV.fetch("RAILS_LOG_LEVEL", "info") %>

rate_limit:
  login:
    limit: <%= ENV.fetch("RATE_LIMIT_LOGIN_REQUESTS", 20) %>
    period: <%= ENV.fetch("RATE_LIMIT_LOGIN_PERIOD", 300) %> # seconds
  api:
    limit: <%= ENV.fetch("RATE_LIMIT_API_REQUESTS", 300) %>
    period: <%= ENV.fetch("RATE_LIMIT_API_PERIOD", 300) %> # seconds